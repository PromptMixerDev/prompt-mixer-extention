# Инструкции по тестированию Prompt Mixer Extension

## Подготовка к тестированию

1. **Сборка расширения**
   ```bash
   cd frontend
   npm run build
   ```

2. **Установка расширения в браузер**
   - Откройте Chrome и перейдите на страницу `chrome://extensions/`
   - Включите "Режим разработчика" (Developer mode)
   - Нажмите "Загрузить распакованное расширение" (Load unpacked)
   - Выберите директорию `frontend/dist`

3. **Подготовка аккаунтов**
   - Убедитесь, что у вас есть доступ к ChatGPT и Claude
   - Войдите в расширение Prompt Mixer Extension

## Тестирование на разных платформах

### 1. Тестирование на ChatGPT (chatgpt.com)

1. **Проверка инициализации**
   - Откройте DevTools (F12 или Ctrl+Shift+I)
   - Перейдите на вкладку Console
   - Проверьте, что в логах есть сообщения:
     ```
     ClaudeInjector: Not a Claude page, skipping initialization
     GPTInjector: Detected GPT page, initializing
     ```
   - Убедитесь, что нет дублирования инжекторов

2. **Проверка отображения кнопки**
   - Убедитесь, что кнопка отображается рядом с полем ввода
   - Проверьте, что кнопка круглая (стиль 'gpt')
   - Проверьте, что в логах есть сообщение:
     ```
     Creating button with style: gpt on URL: https://chatgpt.com/
     ```

3. **Проверка функциональности**
   - Введите текст в поле ввода
   - Нажмите на кнопку "Improve Prompt"
   - Убедитесь, что запрос отправляется и получается улучшенный промпт

### 2. Тестирование на OpenAI (openai.com)

1. **Проверка инициализации**
   - Откройте DevTools (F12 или Ctrl+Shift+I)
   - Перейдите на вкладку Console
   - Проверьте, что в логах есть сообщения:
     ```
     ClaudeInjector: Not a Claude page, skipping initialization
     GPTInjector: Detected GPT page, initializing
     ```
   - Убедитесь, что нет дублирования инжекторов

2. **Проверка отображения кнопки**
   - Убедитесь, что кнопка отображается рядом с полем ввода
   - Проверьте, что кнопка круглая (стиль 'gpt')
   - Проверьте, что в логах есть сообщение:
     ```
     Creating button with style: gpt on URL: https://openai.com/
     ```

3. **Проверка функциональности**
   - Введите текст в поле ввода
   - Нажмите на кнопку "Improve Prompt"
   - Убедитесь, что запрос отправляется и получается улучшенный промпт

### 3. Тестирование на Claude (claude.ai)

1. **Проверка инициализации**
   - Откройте DevTools (F12 или Ctrl+Shift+I)
   - Перейдите на вкладку Console
   - Проверьте, что в логах есть сообщения:
     ```
     ClaudeInjector: Detected Claude page, initializing
     GPTInjector: Not a GPT page, skipping initialization
     ```
   - Убедитесь, что нет дублирования инжекторов

2. **Проверка отображения кнопки**
   - Убедитесь, что кнопка отображается рядом с полем ввода
   - Проверьте, что кнопка квадратная с закругленными углами (стиль 'claude')
   - Проверьте, что в логах есть сообщение:
     ```
     Creating button with style: claude on URL: https://claude.ai/
     ```

3. **Проверка функциональности**
   - Введите текст в поле ввода
   - Нажмите на кнопку "Improve Prompt"
   - Убедитесь, что запрос отправляется и получается улучшенный промпт

## Тестирование аутентификации

1. **Проверка без аутентификации**
   - Выйдите из расширения Prompt Mixer Extension
   - Перезагрузите страницы ChatGPT и Claude
   - Убедитесь, что кнопки не отображаются
   - Проверьте, что в логах есть сообщения:
     ```
     User not authenticated, button will not be shown
     ```

2. **Проверка с аутентификацией**
   - Войдите в расширение Prompt Mixer Extension
   - Перезагрузите страницы ChatGPT и Claude
   - Убедитесь, что кнопки отображаются
   - Проверьте, что в логах есть сообщения:
     ```
     User authenticated, proceeding to find input field
     ```

## Тестирование обработки ошибок

1. **Проверка обработки ошибок API**
   - Отключите интернет или измените URL API в расширении на неверный
   - Введите текст в поле ввода
   - Нажмите на кнопку "Improve Prompt"
   - Убедитесь, что отображается сообщение об ошибке
   - Проверьте, что кнопка возвращается в исходное состояние через 2 секунды

2. **Проверка обработки пустого ввода**
   - Оставьте поле ввода пустым
   - Нажмите на кнопку "Improve Prompt"
   - Убедитесь, что отображается сообщение "Please enter a prompt first"

## Тестирование производительности

1. **Проверка загрузки страницы**
   - Измерьте время загрузки страницы с расширением и без него
   - Убедитесь, что расширение не замедляет загрузку страницы

2. **Проверка использования памяти**
   - Откройте DevTools (F12 или Ctrl+Shift+I)
   - Перейдите на вкладку Performance
   - Запишите профиль производительности
   - Убедитесь, что расширение не вызывает утечек памяти

## Отчет о тестировании

После выполнения всех тестов, создайте отчет о тестировании, включающий:

1. **Результаты тестов**
   - Какие тесты прошли успешно
   - Какие тесты не прошли
   - Скриншоты или видео, демонстрирующие работу расширения

2. **Обнаруженные проблемы**
   - Описание проблемы
   - Шаги для воспроизведения
   - Ожидаемое и фактическое поведение

3. **Предложения по улучшению**
   - Идеи по улучшению функциональности
   - Идеи по улучшению пользовательского интерфейса
   - Идеи по улучшению производительности
